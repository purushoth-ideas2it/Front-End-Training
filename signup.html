<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="signup.css">
    <title>Form</title>
</head>

<body>
    <div class="form-container">
        <div class="header">SIGN UP</div>
        <form onsubmit="return display()">
            <div class="container">
                <div class="left-container">
                    <fieldset>
                        <legend>First Name</legend>
                        <input type="text" id="firstname" placeholder="Enter Your First Name"
                            pattern="^((([A-z]{2,30}) ?){1,4})$" required>
                    </fieldset>
                    <fieldset>
                        <legend>Date Of Birth</legend>
                        <input type="date" id="dateOfBirth" required>
                    </fieldset>
                    <fieldset>
                        <legend>Email</legend>
                        <input type="email" id="email" placeholder="Enter Your Email Id" required>
                    </fieldset>
                    <fieldset>
                        <legend>Designation</legend>
                        <select id="designation" required>
                            <option value="" disabled selected>Choose Your Designation</option>
                            <option value="Software Engineer Trainee">Software Engineer Trainee</option>
                            <option value="Software Engineer">Software Engineer</option>
                            <option value="Admin">Admin</option>
                        </select>
                    </fieldset>
                </div>
                <div class="right-container">
                    <fieldset>
                        <legend>Last Name</legend>
                        <input type="text" id="lastname" placeholder="Enter Your Last Name"
                            pattern="^((([A-z]{2,30}) ?){1,4})$" required>
                    </fieldset>
                    <fieldset class="gender">
                        <legend>Gender</legend>
                        <input type="radio" id="gender" name="gender" value="female" required>
                        <label for="female">Female</label>
                        <input type="radio" id="gender" name="gender" value="male" required>
                        <label for="female">Male</label>
                    </fieldset>
                    <fieldset>
                        <legend>Phone Number</legend>
                        <input type="tel" id="phonenumber" placeholder="Enter Your Mobile Number"
                            pattern="^[6-9]{1}[0-9]{9}$" required>
                    </fieldset>
                    <fieldset class="gender">
                        <legend>Languages Known</legend>
                        <input type="checkbox" name="language" value="tamil">
                        <label for="language">Tamil</label>
                        <input type="checkbox" name="language" value="english">
                        <label for="language">English</label>
                        <input type="checkbox" name="language" value="hindi">
                        <label for="language">Hindi</label>
                    </fieldset>
                </div>
            </div>
            <button type="submit">SIGN UP</button>
        </form>
    </div>
    <script>
        const date = new Date();
        document.getElementById("dateOfBirth").setAttribute("max", (date.getFullYear() - 18) + "-" + date.getMonth() + 1 + "-" + date.getDate().toString());
        document.getElementById("dateOfBirth").setAttribute("min", (date.getFullYear() - 70) + "-" + date.getMonth() + 1 + "-" + date.getDate().toString());

        function display() {
            let user = {};
            user.firstname = document.getElementById("firstname").value;
            user.lastname = document.getElementById("lastname").value;
            user.dateOfBirth = document.getElementById("dateOfBirth").value;
            user.designation = document.getElementById("designation").value;
            user.email = document.getElementById("email").value;
            user.phoneNumber = document.getElementById("phonenumber").value;
            user.gender = getvalue(document.getElementsByName("gender"));
            user.knownlanguages = getvalue(document.getElementsByName("language"));

            if (0 >= user.knownlanguages.length) {
                alert("choose atleast one language");
                return false;
            }
            document.write(user);
            console.dir(user);

        }

        function getvalue(list) {
            if (list[0].type == "radio") {

                for (let i = 0; i < list.length; i++) {
                    if (list[i].checked) {
                        return list[i].value;
                    }
                }
            }

            if (list[0].type == "checkbox") {
                const languages = [];

                for (let i = 0; i < list.length; i++) {
                    if (list[i].checked) {
                        languages.push(list[i].value);
                    }
                }
                return languages;
            }
        }
    </script>
</body>

</html>